<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JS 中的 8 种数据类型及区别 | Jins Space</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="blog初体验">
    
    <link rel="preload" href="/notes/assets/css/0.styles.92de60c9.css" as="style"><link rel="preload" href="/notes/assets/js/app.e0705255.js" as="script"><link rel="preload" href="/notes/assets/js/7.4046385e.js" as="script"><link rel="preload" href="/notes/assets/js/2.3b372fd5.js" as="script"><link rel="preload" href="/notes/assets/js/1.1165d272.js" as="script"><link rel="preload" href="/notes/assets/js/42.59227282.js" as="script"><link rel="prefetch" href="/notes/assets/js/10.337b766a.js"><link rel="prefetch" href="/notes/assets/js/11.be2e0167.js"><link rel="prefetch" href="/notes/assets/js/14.2aa1f170.js"><link rel="prefetch" href="/notes/assets/js/15.bf19b574.js"><link rel="prefetch" href="/notes/assets/js/16.91ebb564.js"><link rel="prefetch" href="/notes/assets/js/17.bfe50ee3.js"><link rel="prefetch" href="/notes/assets/js/18.05ccfb53.js"><link rel="prefetch" href="/notes/assets/js/19.afa41ba1.js"><link rel="prefetch" href="/notes/assets/js/20.e9510ad7.js"><link rel="prefetch" href="/notes/assets/js/21.86ad6466.js"><link rel="prefetch" href="/notes/assets/js/22.09086018.js"><link rel="prefetch" href="/notes/assets/js/23.62e146ab.js"><link rel="prefetch" href="/notes/assets/js/24.36df6bff.js"><link rel="prefetch" href="/notes/assets/js/25.99201ee4.js"><link rel="prefetch" href="/notes/assets/js/26.0dad3cd4.js"><link rel="prefetch" href="/notes/assets/js/27.be36597a.js"><link rel="prefetch" href="/notes/assets/js/28.4a19ff25.js"><link rel="prefetch" href="/notes/assets/js/29.5c2b113e.js"><link rel="prefetch" href="/notes/assets/js/3.97bbbdc8.js"><link rel="prefetch" href="/notes/assets/js/30.38a9b8bb.js"><link rel="prefetch" href="/notes/assets/js/31.0d5a08c3.js"><link rel="prefetch" href="/notes/assets/js/32.804ecc25.js"><link rel="prefetch" href="/notes/assets/js/33.a8e71e21.js"><link rel="prefetch" href="/notes/assets/js/34.da185bf8.js"><link rel="prefetch" href="/notes/assets/js/35.e45072d9.js"><link rel="prefetch" href="/notes/assets/js/36.b81c8de2.js"><link rel="prefetch" href="/notes/assets/js/37.f26d2d52.js"><link rel="prefetch" href="/notes/assets/js/38.64ecdb7b.js"><link rel="prefetch" href="/notes/assets/js/39.19ea8ef2.js"><link rel="prefetch" href="/notes/assets/js/4.983d15c3.js"><link rel="prefetch" href="/notes/assets/js/40.f39e109b.js"><link rel="prefetch" href="/notes/assets/js/41.9483a2c1.js"><link rel="prefetch" href="/notes/assets/js/43.795a87ae.js"><link rel="prefetch" href="/notes/assets/js/5.574f6fbb.js"><link rel="prefetch" href="/notes/assets/js/6.a4122f72.js"><link rel="prefetch" href="/notes/assets/js/8.4c3a4b90.js"><link rel="prefetch" href="/notes/assets/js/9.bee9eff5.js"><link rel="prefetch" href="/notes/assets/js/vendors~docsearch.833ce4c0.js">
    <link rel="stylesheet" href="/notes/assets/css/0.styles.92de60c9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>Jins Space</h3> <p class="description" data-v-59e6cb88>blog初体验</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2024
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notes/" class="home-link router-link-active"><!----> <span class="site-name">Jins Space</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/notes/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      Jins Space
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/726107228492253" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/coding-lin" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><!----> <!----> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>4</h3> <h6 data-v-1fad0c41>文章</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>0</h3> <h6 data-v-1fad0c41>标签</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/notes/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      Jins Space
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/726107228492253" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/coding-lin" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><a href="/notes/" aria-current="page" class="sidebar-link">首页</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/notes/base/HTML" class="sidebar-heading clickable open"><span>基础知识</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/base/HTML.html" class="sidebar-link">HTML</a></li><li><a href="/notes/base/CSS.html" class="sidebar-link">CSS</a></li><li><a href="/notes/base/JS.html" aria-current="page" class="active sidebar-link">JS</a></li><li><a href="/notes/base/web.html" class="sidebar-link">浏览器相关</a></li><li><a href="/notes/base/CS-network.html" class="sidebar-link">计算机网络</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88></h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2024
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">JS 中的 8 种数据类型及区别</h1> <div data-v-8a445198><!----> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h2 id="js-中的-8-种数据类型及区别"><a href="#js-中的-8-种数据类型及区别" class="header-anchor">#</a> JS 中的 8 种数据类型及区别</h2> <h3 id="基本数据类型"><a href="#基本数据类型" class="header-anchor">#</a> 基本数据类型</h3> <p>Number(数字)、String(字符)、Boolean(布尔)、Symbol(标识)、Null(空)、Undefined(未定义)</p> <h3 id="复杂数据类型"><a href="#复杂数据类型" class="header-anchor">#</a> 复杂数据类型</h3> <p>Object(对象)、Function(函数)<br>
其他还有 Array(数组)、Date(日期)、RegExp(正则表达式)、特殊的基本包装类型(String、Number、Boolean) 以及单体内置对象(Global、Math)等 引用类型的值是对象 保存在堆内存中，栈内存存储的是对象的变量标识符以及对象在堆内存中的存储地址。</p> <h3 id="js-中数据类型检测方法"><a href="#js-中数据类型检测方法" class="header-anchor">#</a> JS 中数据类型检测方法</h3> <ol><li>typeof</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// number</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// boolean</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token string">'mc'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// string</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> Symbol<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// function</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// symbol</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// function</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>优点：能够快速区分基本数据类型；<br>
缺点：不能区分 Object、Array、Null</p> <ol start="2"><li>instanceof</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token keyword">instanceof</span> <span class="token class-name">Boolean</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'str'</span> <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>优点：能够区分对象、函数、数组，适合用于判断自定义的类实例对象；<br>
缺点：不能判断基本数据类型</p> <ol start="3"><li>Object.prototype.toString.call()</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> toString <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Number]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Boolean]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">'mc'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object String]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Array]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Object]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Function]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Undefined]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Null]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>优点：精准判断数据类型；<br>
缺点：写法繁琐不容易记</p> <h2 id="var-let-const"><a href="#var-let-const" class="header-anchor">#</a> var &amp;&amp; let &amp;&amp; const</h2> <p>let/const 是 ES6 里面的。<br></p> <ol><li>var 定义的变量，没有块的概念，可以跨块访问，但不能跨函数访问。<br>
let 和 const 定义的变量都只能在块作用域里访问，不能跨块也不能跨函数，const 定义的是常量，不可以修改，使用时必须初始化（即必须赋值）。<br></li> <li>var 存在变量提升，可以先使用后提升，let/const 必须先声明后使用。</li> <li>var 是允许在相同作用域内重复声明同一个变量的，let/const 不允许。</li> <li>在全局上下文中，基于 let 声明的全局变量与全局对象 window 没有任何关系；var 声明的变量会和 Window 有映射关系。</li> <li>会出现暂时性死区；<br></li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>暂时性死区是浏览器的bug：检测一个未被声明的变量类型时，不会报错，会返回undefined
如：console.log(typeof a) //undefined
而：console.log(typeof a)//未声明之前不能使用
let a
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="6"><li>let /const/function 会把当前所在的大括号(除函数之外)作为一个全新的块级上下文，应用这个机制，在开发项目的时候，遇到循环事件绑定等类似的需求，无需再自己构建闭包来存储，只要基于 let 的块作用特征即可解决</li></ol> <h2 id="垃圾回收机制"><a href="#垃圾回收机制" class="header-anchor">#</a> 垃圾回收机制</h2> <p>浏览器的 javascript 具有自动垃圾回收机制，垃圾收集器会定期（周期性）找出那些不再继续使用的变量，然后释放其内存。<br></p> <ol><li><b>标记清除</b>： 最常用的垃圾回收机制。当变量进入执行环境时，被标记为“进入环境”，当变量离开执行环境时，会标记为“离开环境”。垃圾回收器会销毁那些带标记的值并回收它们所占用的内存空间。<br></li> <li><b>谷歌浏览器</b>： “查找引用”，浏览器不定时去查找当前内存的引用，如果没有被占用了，浏览器就会回收它；如果被占用，就不能回收。<br></li> <li><b>IE 浏览器</b>： “引用计数法”，当前内存被占用一次，计数器累加 1 次，移除占用就减 1，减到 0 时，浏览器就回收它。</li></ol> <h3 id="优化手段"><a href="#优化手段" class="header-anchor">#</a> 优化手段</h3> <p>内存优化；手动释放；取消内存的占用即可。<br>
(1) 堆内存：fn=null<br>
(2) 栈内存：把上下文中，被外部占用的堆的占用取消即可。<br></p> <p>分代收集（Generational collection）—— 对象被分成两组：“新的”和“旧的”。在典型的代码中，许多对象的生命周期都很短：它们出现、完成它们的工作并很快死去，因此在这种情况下跟踪新对象并将其从内存中清除是有意义的。那些长期存活的对象会变得“老旧”，并且被检查的频次也会降低。<br>
增量收集（Incremental collection）—— 如果有许多对象，并且我们试图一次遍历并标记整个对象集，则可能需要一些时间，并在执行过程中带来明显的延迟。因此，引擎将现有的整个对象集拆分为多个部分，然后将这些部分逐一清除。这样就会有很多小型的垃圾收集，而不是一个大型的。这需要它们之间有额外的标记来追踪变化，但是这样会带来许多微小的延迟而不是一个大的延迟。<br>
闲时收集（Idle-time collection）—— 垃圾收集器只会在 CPU 空闲时尝试运行，以减少可能对代码执行的影响。<br></p> <h3 id="内存泄露"><a href="#内存泄露" class="header-anchor">#</a> 内存泄露</h3> <p>全局变量、闭包、DOM 元素的引用、定时器</p> <h2 id="作用域与作用域链"><a href="#作用域与作用域链" class="header-anchor">#</a> 作用域与作用域链</h2> <p>定义：简单来说作用域就是变量和函数的可访问范围，由当前环境与上层环境的一系列变量对象组成。<br></p> <ol><li>全局作用域：代码在程序的任何地方都能被访问，window 对象的内置属性都拥有全局作用域；<br></li> <li>函数作用域：在固定的代码片段才能被访问<br>
作用：隔离变量，不同作用域下的同名变量不会冲突。<br>
作用域链：一般情况下，变量取值是在 创建该变量的作用域中查找。但是如果当前作用域中没有找到，就会向上级作用域中去查，直到查到全局作用域，这么一个查找过程形成的链条就叫做作用域链。</li></ol> <h2 id="闭包"><a href="#闭包" class="header-anchor">#</a> 闭包</h2> <p>一个普通的函数 function，如果它[可以]访问外层作用域的自由变量，那么这个函数就是一个闭包；从广义上的角度来说，JavaScript 中的函数都是闭包；从狭义的角度来说，JavaScript 中一个函数，如果[访问了]外层作用域的变量，那么它是一个闭包。<br>
在 JavaScript 中，闭包会随着函数的创建而被同时创建。<br></p> <h3 id="闭包的特性"><a href="#闭包的特性" class="header-anchor">#</a> 闭包的特性</h3> <p><a href="https://juejin.cn/post/7263628964748197948?searchId=20240118224507853CE84D31C061EDEF55" target="_blank" rel="noopener noreferrer">参考链接<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ol><li>闭包可以访问父级函数的变量；</li> <li>访问到父级函数的变量不会销毁</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> age <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  age<span class="token operator">++</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 19</span>
<span class="token function">person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20</span>
<span class="token function">person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 21</span>

<span class="token comment">// 闭包应用</span>
<span class="token keyword">function</span> <span class="token function">person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> age <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>
  <span class="token comment">// 匿名函数function能访问到上一级作用域的变量，形成了一个闭包</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    age<span class="token operator">++</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// age被保存了起来</span>
<span class="token keyword">let</span> getPersonAge <span class="token operator">=</span> <span class="token function">person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">getPersonAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 19</span>
<span class="token function">getPersonAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20</span>
<span class="token function">getPersonAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 21</span>

<span class="token comment">// 可以这样理解，通过将person函数赋值给getPersonAge这个变量，可以看作如下代码</span>
<span class="token keyword">let</span> <span class="token function-variable function">getPersonAge</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  age<span class="token operator">++</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 每当调用getPersonAge()函数的时候，首先要获取age变量，因为JavaScript中存在作用域链的关系，所以会从person函数下得到对应的age，因为闭包存在着闭包可以访问到父级函数的变量，且该变量不会销毁的特性所以上次的变量会被保留下来，所以可以做到自增的实现。
 * /
</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h3 id="闭包性能考量"><a href="#闭包性能考量" class="header-anchor">#</a> 闭包性能考量</h3> <ol><li>闭包会导致变量不会被垃圾回收机制回收，造成内存消耗；<br></li> <li>对于不恰当的使用闭包可能会造成内存泄露的问题。<br>
比如在定义类的时候吧对应的方法定义在了构造函数下，这样就会导致每次实例化对象的时候，每个方法都会被重新赋值：</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Sony</span><span class="token punctuation">(</span><span class="token parameter">camera<span class="token punctuation">,</span> price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>camera <span class="token operator">=</span> camera<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">=</span> price<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getCamera</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>camera<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getPrice</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>price<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sony</span><span class="token punctuation">(</span><span class="token string">'ZV-1'</span><span class="token punctuation">,</span> <span class="token number">5300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="this-的指向"><a href="#this-的指向" class="header-anchor">#</a> this 的指向</h2> <p>只有在函数调用时，this 才会被绑定。this 的绑定和函数定义的位置没有关系，和函数的调用方式有关系<br></p> <ol><li>作为普通函数执行时，this 指向 window;</li> <li>当函数作为对象的方法使用时，this 指向这个对象；</li> <li>箭头函数没有自己的 this, this 的值取决于这个函数定义在哪个对象下，就绑定在哪个对象；如果是嵌套函数，则 this 绑定在最近一层对象上；</li> <li>构造器调用，this 指向返回的这个对象；</li> <li>立即执行函数 this 必定指向 window;</li> <li>定时器 this 指向 window；</li> <li>事件中 this 指向事件源对象；</li></ol> <h2 id="原型"><a href="#原型" class="header-anchor">#</a> 原型</h2> <p>在 JS 中，对象有一个特殊的隐藏属性<code>[[Prototype]]</code>，它要么为 null，要么是对另一个对象的引用。该对象被称为原型。当我们从 object 中读取一个缺失的属性时，JavaScript 会自动从原型中获取该属性。在编程中，这被称为“原型继承”。属性 [[Prototype]] 是内部的而且是隐藏的，我们可以通过<code>__proto__</code>去访问。<br> <code>_proto__</code> 与内部的 [[Prototype]] 不一样。<code>__proto__</code> 是 [[Prototype]] 的 getter/setter。
现代编程语言建议我们应该使用函数 Object.getPrototypeOf/Object.setPrototypeOf 来取代 <code>__proto__</code> 去 get/set 原型。<br>
对对象的属性写入赋值不会作用到原型上。<br></p> <h3 id="this-指向"><a href="#this-指向" class="header-anchor">#</a> this 指向</h3> <p>在一个方法调用中，this 始终是符号.前面的对象。</p> <h3 id="for-in-循环"><a href="#for-in-循环" class="header-anchor">#</a> for...in 循环</h3> <p>也会迭代继承的属性, for..in 只会列出可枚举的属性<br>
所有其他的键/值获取方法仅对对象本身起作用<br>
有一个内建方法 Object.hasOwnProperty(key) 如果是 obj 自己的属性（非继承的）则返回 true;<br></p></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/notes/base/CSS.html" class="prev">
          CSS
        </a></span> <span class="next"><a href="/notes/base/web.html">
          浏览器相关
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/notes/base/JS.html#js-中的-8-种数据类型及区别" class="sidebar-link reco-side-js-中的-8-种数据类型及区别" data-v-b57cc07c>JS 中的 8 种数据类型及区别</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/base/JS.html#基本数据类型" class="sidebar-link reco-side-基本数据类型" data-v-b57cc07c>基本数据类型</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/base/JS.html#复杂数据类型" class="sidebar-link reco-side-复杂数据类型" data-v-b57cc07c>复杂数据类型</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/base/JS.html#js-中数据类型检测方法" class="sidebar-link reco-side-js-中数据类型检测方法" data-v-b57cc07c>JS 中数据类型检测方法</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/base/JS.html#var-let-const" class="sidebar-link reco-side-var-let-const" data-v-b57cc07c>var &amp;&amp; let &amp;&amp; const</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/base/JS.html#垃圾回收机制" class="sidebar-link reco-side-垃圾回收机制" data-v-b57cc07c>垃圾回收机制</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/base/JS.html#优化手段" class="sidebar-link reco-side-优化手段" data-v-b57cc07c>优化手段</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/base/JS.html#内存泄露" class="sidebar-link reco-side-内存泄露" data-v-b57cc07c>内存泄露</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/base/JS.html#作用域与作用域链" class="sidebar-link reco-side-作用域与作用域链" data-v-b57cc07c>作用域与作用域链</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/base/JS.html#闭包" class="sidebar-link reco-side-闭包" data-v-b57cc07c>闭包</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/base/JS.html#闭包的特性" class="sidebar-link reco-side-闭包的特性" data-v-b57cc07c>闭包的特性</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/base/JS.html#闭包性能考量" class="sidebar-link reco-side-闭包性能考量" data-v-b57cc07c>闭包性能考量</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/base/JS.html#this-的指向" class="sidebar-link reco-side-this-的指向" data-v-b57cc07c>this 的指向</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/base/JS.html#原型" class="sidebar-link reco-side-原型" data-v-b57cc07c>原型</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/base/JS.html#this-指向" class="sidebar-link reco-side-this-指向" data-v-b57cc07c>this 指向</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/base/JS.html#for-in-循环" class="sidebar-link reco-side-for-in-循环" data-v-b57cc07c>for...in 循环</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/notes/assets/js/app.e0705255.js" defer></script><script src="/notes/assets/js/7.4046385e.js" defer></script><script src="/notes/assets/js/2.3b372fd5.js" defer></script><script src="/notes/assets/js/1.1165d272.js" defer></script><script src="/notes/assets/js/42.59227282.js" defer></script>
  </body>
</html>
